@model IEnumerable<ERA_BMS.Models.BridgeTypeByMainRoute>

<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title panel-info">Census of Bridges by <b>Bridge Type</b> by <b>Main Routes</b></h3>
    </div>

    <div class="panel-body">
        <br />
        <br />
        <table class="table table-striped table-condensed table-responsive table-bordered centeredtable display compact hover" id="bridgetypecensusbymainroute">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.MainRouteName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Total)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Deck_Girder)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Box_Girder)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Arch)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Slab_Bridge)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Box_Culvert)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PC_Deck_Girder)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PC_Box_Girder)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Steel_Truss)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Steel_Girder_Composit)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Steel_Panel_Bailey)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Masonry_Arch)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Steel_Truss_and_RCDG)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Box_Girder_and_RCDG)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Arch_and_RCDG)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Deck_Girder_and_RC_Slab)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Rigid_Frame)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Extradosed_Cable)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Steel_Truss_and_Box_Girder)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Pipe_Steel_RC)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RC_Deck_Girder_Continuous)
                    </th>
                </tr>
            </thead>

            @{
                int totBrg = 0;
                int totRC_DG = 0;
                int totRC_BXG = 0;
                int totRC_ARC = 0;
                int totRC_SL_CUL = 0;
                int totRC_BX_CUL = 0;
                int totPC_Deck_GRD = 0;
                int totPC_Box_GRD = 0;
                int totST_TR = 0;
                int totST_GRD_COMP = 0;
                int totST_PAN_BAIL = 0;
                int totMAS_ARC = 0;
                int totST_TRS_RCDG = 0;
                int totRC_BX_GRD_and_RCDG = 0;
                int totRC_ARC_RCDG = 0;
                int totRC_DK_GRD_RC_SLB = 0;
                int totRC_RGD_FRM = 0;
                int totEXTR_CBL = 0;
                int totST_TRS_BX_GRD = 0;
                int totPIPE_STEEL = 0;
                int totRC_DC_CNT = 0;
            }
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <th>
                            @Html.DisplayFor(modelItem => item.MainRouteName)
                        </th>
                        <th>
                            @Html.DisplayFor(modelItem => item.Total)
                            @{ totBrg += (int)item.Total;}
                        </th>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Deck_Girder)
                            @{ totRC_DG += (int)item.RC_Deck_Girder;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Box_Girder)
                            @{ totRC_BXG += (int)item.RC_Box_Girder;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Arch)
                            @{ totRC_ARC += (int)item.RC_Arch;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Slab_Bridge)
                            @{ totRC_SL_CUL += (int)item.RC_Slab_Bridge;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Box_Culvert)
                            @{ totRC_BX_CUL += (int)item.RC_Box_Culvert;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PC_Deck_Girder)
                            @{ totPC_Deck_GRD += (int)item.PC_Deck_Girder;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PC_Box_Girder)
                            @{ totPC_Box_GRD += (int)item.PC_Box_Girder;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Steel_Truss)
                            @{ totST_TR += (int)item.Steel_Truss;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Steel_Girder_Composit)
                            @{ totST_GRD_COMP += (int)item.Steel_Girder_Composit;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Steel_Panel_Bailey)
                            @{ totST_PAN_BAIL += (int)item.Steel_Panel_Bailey;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Masonry_Arch)
                            @{ totMAS_ARC += (int)item.Masonry_Arch;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Steel_Truss_and_RCDG)
                            @{ totST_TRS_RCDG += (int)item.Steel_Truss_and_RCDG;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Box_Girder_and_RCDG)
                            @{ totRC_BX_GRD_and_RCDG += (int)item.RC_Box_Girder_and_RCDG;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Arch_and_RCDG)
                            @{ totRC_ARC_RCDG += (int)item.RC_Arch_and_RCDG;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Deck_Girder_and_RC_Slab)
                            @{ totRC_DK_GRD_RC_SLB += (int)item.RC_Deck_Girder_and_RC_Slab;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Rigid_Frame)
                            @{ totRC_RGD_FRM += (int)item.RC_Rigid_Frame;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Extradosed_Cable)
                            @{ totEXTR_CBL += (int)item.Extradosed_Cable;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Steel_Truss_and_Box_Girder)
                            @{ totST_TRS_BX_GRD += (int)item.Steel_Truss_and_Box_Girder;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Pipe_Steel_RC)
                            @{ totPIPE_STEEL += (int)item.Pipe_Steel_RC;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RC_Deck_Girder_Continuous)
                            @{ totRC_DC_CNT += (int)item.RC_Deck_Girder_Continuous;}
                        </td>
                    </tr>
                }
            
                <tr style="background-color: #e9e9e9; font-style: italic">
                    <th><i>Total for all Main Routes</i></th>
                    <th>@totBrg</th>
                    <th>@totRC_DG</th>
                    <th>@totRC_BXG</th>
                    <th>@totRC_ARC</th>
                    <th>@totRC_SL_CUL</th>
                    <th>@totRC_BX_CUL</th>
                    <th>@totPC_Deck_GRD</th>
                    <th>@totPC_Box_GRD</th>
                    <th>@totST_TR</th>
                    <th>@totST_GRD_COMP</th>
                    <th>@totST_PAN_BAIL</th>
                    <th>@totMAS_ARC</th>
                    <th>@totST_TRS_RCDG</th>
                    <th>@totRC_BX_GRD_and_RCDG</th>
                    <th>@totRC_ARC_RCDG</th>
                    <th>@totRC_DK_GRD_RC_SLB</th>
                    <th>@totRC_RGD_FRM</th>
                    <th>@totEXTR_CBL</th>
                    <th>@totST_TRS_BX_GRD</th>
                    <th>@totPIPE_STEEL</th>
                    <th>@totRC_DC_CNT</th>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="panel-footer">
        <h3 class="panel-title">Total of <b>@Model.Count()</b> Main Routes and <b>@totBrg</b> Bridges </h3>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#bridgetypecensusbymainroute').dataTable({
            scrollY: 400,
            scrollX: true,
            searching: true,
            select: true,
            aaSorting: [],
            dom: 'lBfrtip',
            aoColumnDefs: [
                { sClass: 'compacttable', aTargets: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21] }, // make cell compact with no padding and margin
                { orderable: false, aTargets: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21] }
            ],
            buttons: [
                { extend: 'copy', className: 'btn btn-sm btn-primary' },
                { extend: 'excel', className: 'btn btn-sm btn-primary', text: 'Export Excel' },
                { extend: 'pdf', className: 'btn btn-sm btn-primary', text: 'Export PDF' },
                { extend: 'print', className: 'btn btn-sm btn-primary' }
            ]
        });
    });
</script>

